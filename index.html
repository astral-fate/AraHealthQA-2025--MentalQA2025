<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sakinah-AI System Architecture</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            background-color: #f8f9fa;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 2rem;
            box-sizing: border-box;
        }
        svg {
            max-width: 100%;
            height: auto;
        }
        .title-text {
            font-size: 28px;
            font-weight: bold;
            fill: #212529;
            text-anchor: middle;
        }
        .group-title-text {
            font-size: 20px;
            font-weight: 600;
            fill: #343a40;
            text-anchor: middle;
        }
        .box-text {
            font-size: 14px;
            fill: #212529;
            text-anchor: middle;
            font-weight: 500;
        }
        .label-text {
            font-size: 12px;
            fill: #495057;
            text-anchor: middle;
        }
        .arrow-head {
            fill: #495057;
        }
        .arrow-line {
            stroke: #495057;
            stroke-width: 2;
        }
        .box-style {
            stroke-width: 2;
            rx: 10;
            ry: 10;
        }
        .input-box {
            fill: #e9ecef;
            stroke: #adb5bd;
        }
        .output-box {
            fill: #d1e7dd;
            stroke: #0f5132;
        }
        .finetune-box {
            fill: #cfe2ff;
            stroke: #0a58ca;
        }
        .fewshot-box {
            fill: #fff3cd;
            stroke: #ffc107;
        }
        .model-box {
            fill: #f8d7da;
            stroke: #842029;
        }
        .api-box {
            fill: #d1e7dd;
            stroke: #198754;
        }
        .data-box {
            fill: #fefefe;
            stroke: #ced4da;
        }
    </style>
</head>
<body>
    <svg width="1200" height="900" viewBox="0 0 1200 900">
        <!-- Define arrow marker -->
        <defs>
            <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                <path d="M 0 0 L 10 5 L 0 10 z" class="arrow-head" />
            </marker>
        </defs>

        <!-- Title -->
        <text x="600" y="50" class="title-text">Sakinah-AI System Architecture</text>

        <!-- Input -->
        <rect x="525" y="100" width="150" height="50" class="box-style input-box" />
        <text x="600" y="130" class="box-text">Arabic User Question</text>

        <!-- Arrow from Input -->
        <line x1="600" y1="150" x2="600" y2="190" class="arrow-line" marker-end="url(#arrow)" />

        <!-- Main Split -->
        <line x1="300" y1="200" x2="900" y2="200" class="arrow-line" />
        <line x1="300" y1="200" x2="300" y2="240" class="arrow-line" marker-end="url(#arrow)" />
        <line x1="900" y1="200" x2="900" y2="240" class="arrow-line" marker-end="url(#arrow)" />

        <!-- Fine-Tuning Branch -->
        <g id="fine-tuning-branch">
            <text x="300" y="259" class="group-title-text">Fine-Tuning Pipeline</text>

            <!-- Base Models -->
            <rect x="75" y="280" width="180" height="60" class="box-style model-box" />
            <text x="165" y="315" class="box-text">CAMeL-BERT</text>
            <rect x="345" y="280" width="180" height="60" class="box-style model-box" />
            <text x="435" y="315" class="box-text">AraBERTv2</text>

            <!-- Arrows to Strategies -->
            <line x1="165" y1="340" x2="165" y2="380" class="arrow-line" marker-end="url(#arrow)" />
            <line x1="435" y1="340" x2="435" y2="380" class="arrow-line" marker-end="url(#arrow)" />

            <!-- Strategies -->
            <rect x="65" y="380" width="200" height="130" class="box-style finetune-box" />
            <text x="165" y="405" class="box-text">Optimized Single Model</text>
            <text x="165" y="425" class="label-text">(Optuna Hyperparameter Search)</text>
            <line x1="75" y1="445" x2="255" y2="445" stroke="#0a58ca" stroke-width="1"/>
            <text x="165" y="475" class="box-text">K-Fold Ensemble</text>
            <text x="165" y="495" class="label-text">(5-Fold Cross-Validation)</text>

            <rect x="335" y="380" width="200" height="130" class="box-style finetune-box" />
            <text x="435" y="405" class="box-text">Optimized Single Model</text>
            <text x="435" y="425" class="label-text">(Optuna Hyperparameter Search)</text>
            <line x1="345" y1="445" x2="525" y2="445" stroke="#0a58ca" stroke-width="1"/>
            <text x="435" y="475" class="box-text">K-Fold Ensemble</text>
            <text x="435" y="495" class="label-text">(5-Fold Cross-Validation)</text>

            <!-- Data Source for Fine-Tuning -->
            <rect x="225" y="550" width="150" height="60" class="box-style data-box" />
            <text x="300" y="575" class="box-text">MentalQA Dataset</text>
            <text x="300" y="595" class="label-text">(Train/Dev Split)</text>

            <!-- Arrows from Data to Strategies -->
            <path d="M 300 550 Q 300 530 165 510" fill="none" class="arrow-line" marker-end="url(#arrow)" />
            <path d="M 300 550 Q 300 530 435 510" fill="none" class="arrow-line" marker-end="url(#arrow)" />

            <!-- Arrow to final merge -->
            <line x1="300" y1="610" x2="300" y2="680" class="arrow-line" />
            <line x1="300" y1="680" x2="550" y2="680" class="arrow-line" marker-end="url(#arrow)" />
        </g>

        <!-- Few-Shot Learning Branch -->
        <g id="few-shot-branch">
            <text x="900" y="259" class="group-title-text">Few-Shot Learning Pipeline</text>

            <!-- Prompt Construction -->
            <rect x="825" y="280" width="150" height="80" class="box-style fewshot-box" />
            <text x="900" y="305" class="box-text">Prompt Construction</text>
            <text x="900" y="325" class="label-text">(Task Description,</text>
            <text x="900" y="340" class="label-text">3-5 Examples)</text>

            <!-- Arrow from prompt -->
            <line x1="900" y1="360" x2="900" y2="400" class="arrow-line" marker-end="url(#arrow)" />

            <!-- NVIDIA API -->
            <rect x="800" y="400" width="200" height="60" class="box-style api-box" />
            <text x="900" y="435" class="box-text">NVIDIA NIM API</text>

            <!-- Arrow from API -->
            <line x1="900" y1="460" x2="900" y2="500" class="arrow-line" marker-end="url(#arrow)" />

            <!-- LLMs -->
            <rect x="750" y="500" width="300" height="110" class="box-style model-box" />
            <text x="900" y="525" class="box-text">Large Language Models (LLMs)</text>
            <text x="900" y="550" class="label-text">Palmyra-Med-70B, Mixtral-8X22B,</text>
            <text x="900" y="565" class="label-text">Qwen3-235B, Gpt-Oss-20B,</text>
            <text x="900" y="580" class="label-text">Colosseum-355B</text>
            
            <!-- Arrow to final merge -->
            <line x1="900" y1="610" x2="900" y2="680" class="arrow-line" />
            <line x1="900" y1="680" x2="650" y2="680" class="arrow-line" marker-end="url(#arrow)" />
        </g>

        <!-- Output -->
        <rect x="525" y="720" width="150" height="60" class="box-style output-box" />
        <text x="600" y="745" class="box-text">Multi-Label Output</text>
        <text x="600" y="765" class="label-text">(Set of Predicted Labels)</text>
        
        <!-- Arrow to Output -->
        <line x1="600" y1="680" x2="600" y2="720" class="arrow-line" />

        <!-- Evaluation -->
        <rect x="500" y="810" width="200" height="60" class="box-style data-box" />
        <text x="600" y="835" class="box-text">Evaluation</text>
        <text x="600" y="855" class="label-text">(Weighted F1, Jaccard Score)</text>
        
        <!-- Arrow from Output to Evaluation -->
        <line x1="600" y1="780" x2="600" y2="810" class="arrow-line" marker-end="url(#arrow)" />

    </svg>
</body>
</html>
